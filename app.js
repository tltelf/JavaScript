'use strict';

/* 
	–¢–∞–π–º–µ—Ä –ø–∏—Ü—Ü—ã
	–°–¥–µ–ª–∞—Ç—å —Ç–∞–π–º–µ—Ä –ø–∏—Ü—Ü—ã (—Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –≤—Ä–µ–º—è),
	–∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å —Å–µ–∫—É–Ω–¥—ã,
	–æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø–∏—Ü—Ü—ã –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏.
	00:04
	00:03
	00:01
	00:00
	üçï!!!
*/

function pizzaTimer(seconds) {
  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É (1000 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥)
  const interval = setInterval(() => {
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –≤—Ä–µ–º—è –≤ –º–∏–Ω—É—Ç–∞—Ö –∏ —Å–µ–∫—É–Ω–¥–∞—Ö –∏ –≤—ã–≤–æ–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª—å
    console.log(
      new Intl.DateTimeFormat(navigator.language, {
        minute: 'numeric',
        second: 'numeric',
      }).format(seconds * 1000)
    );
    // –£–º–µ–Ω—å—à–∞–µ–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –Ω–∞ –æ–¥–Ω—É —Å–µ–∫—É–Ω–¥—É
    seconds--;
    // –ï—Å–ª–∏ –≤—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ (—Ä–∞–≤–Ω–æ -1), –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ "üçï!!!" –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª
    if (seconds === -1) {
      console.log('üçï!!!');
      clearInterval(interval);
    }
  }, 1000); // –¢–∞–π–º–µ—Ä –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è 10 —Å–µ–∫—É–Ω–¥
pizzaTimer(10);

function pizzaTimer2(ms) {
  // –í—ã—á–∏—Å–ª—è–µ–º —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–∏—Ü—Ü—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
  const end = new Date().getTime() + ms;

  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É (1000 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥)
  const interval = setInterval(() => {
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∏ –≤—ã–≤–æ–¥–∏–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –º–∏–Ω—É—Ç –∏ —Å–µ–∫—É–Ω–¥
    console.log(
      new Intl.DateTimeFormat('ru-RU', {
        minute: 'numeric',
        second: 'numeric',
      }).format(end + 100 - new Date())
    );
  }, 1000);

  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≤–µ—Ä—à–∏—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª –∏ –≤—ã–≤–µ–¥–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "üçï!!!" –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
  setTimeout(() => {
    clearInterval(interval);
    console.log('üçï!!!');
  }, ms);
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è 5000 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ (5 —Å–µ–∫—É–Ω–¥)
pizzaTimer2(5000);

function pizzaTimer(timeInSeconds) {
  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É (1000 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥)
  let timer = setInterval(function () {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –±–æ–ª—å—à–µ –Ω—É–ª—è
    if (timeInSeconds > 0) {
      // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –º–∏–Ω—É—Ç—ã –∏ —Å–µ–∫—É–Ω–¥—ã –∏–∑ –æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
      const minutes = Math.floor(timeInSeconds / 60);
      const seconds = timeInSeconds % 60;
      // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –∏ –≤—ã–≤–æ–¥–∏–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ "–º–º:—Å—Å"
      console.log(
        `${minutes.toString().padStart(2, '0')}:${seconds
          .toString()
          .padStart(2, '0')}`
      );
      // –£–º–µ–Ω—å—à–∞–µ–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –Ω–∞ 1 —Å–µ–∫—É–Ω–¥—É
      timeInSeconds--;
    } else {
      // –í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä –∏ –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ "üçï!!! –ü–∏—Ü—Ü–∞ –≥–æ—Ç–æ–≤–∞!!!"
      clearInterval(timer);
      console.log('üçï!!! –ü–∏—Ü—Ü–∞ –≥–æ—Ç–æ–≤–∞!!!');
    }
  }, 1000); // –¢–∞–π–º–µ—Ä –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É (1000 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥)
}

// –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å –∑–∞–¥–∞–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 –º–∏–Ω—É—Ç)
pizzaTimer(5 * 60);
